{% extends 'base.html' %}

{% block title %}{{ cafe.name }}{% endblock %}

{% block content %}
<div class="container my-5">
    <div class="p-5 text-center bg-body-tertiary rounded-3 cafe-jumbotron"
         style="background-image: url('{{ cafe.img_url }}'); background-size: cover; background-position: center;">
        <h1 class="text-body-emphasis">{{ cafe.name }}</h1>
        <p class="col-lg-8 mx-auto fs-5 text-muted">{{ cafe.location }}</p>
    </div>
</div>
<div class="container">
    <div class="row">
        <div class="col-8">
            <h3 class="cafe-rating">
                {% if cafe.average_rating %}
                {{ cafe.average_rating }}
                {% for num in range(1, 6) %}
                {% if cafe.average_rating >= num %}
                <img src="{{ url_for('static', filename='images/star-yellow.png') }}" alt="star">
                {% elif cafe.average_rating < num and cafe.average_rating > num-1 %}
                <img src="{{ url_for('static', filename='images/star-half.png') }}" alt="star">
                {% else %}
                <img src="{{ url_for('static', filename='images/star-gray.png') }}" alt="star">
                {% endif %}
                {% endfor %}
                {% else %}</h3>
            <h5>No ratings yet - rate this cafe!</h5>
            {% endif %}
            <div class="container mt-5">
        <h2>Rate this item:</h2>
        <form id="ratingForm" method="POST" action="{{ url_for('view_cafe', cafe_id=cafe.id) }}">
            <fieldset class="rating">
                <input type="radio" id="star5" name="rating" value="5" />
                <label class="full" for="star5" title="5 stars" ></label>
                <input type="radio" id="star4" name="rating" value="4" />
                <label class="full" for="star4" title="4 stars"></label>
                <input type="radio" id="star3" name="rating" value="3" />
                <label class="full" for="star3" title="3 stars"></label>
                <input type="radio" id="star2" name="rating" value="2" />
                <label class="full" for="star2" title="2 stars"></label>
                <input type="radio" id="star1" name="rating" value="1" />
                <label class="full" for="star1" title="1 star"></label>
            </fieldset>
            <button type="submit" class="btn btn-primary mt-3">Submit Rating</button>
        </form>
    </div>
        </div>
        <div class="col-4">
            <ul class="list-group list-group-flush">
                <li class="list-group-item d-flex justify-content-between">
                    Wi-Fi:
                    <span>{{ cafe.has_wifi }}</span>
                </li>
                <li class="list-group-item d-flex justify-content-between">
                    Sockets:
                    <span>{{ cafe.has_sockets }}</span>
                </li>
                <li class="list-group-item d-flex justify-content-between">
                    Toilet:
                    <span>{{ cafe.has_toilet }}</span>
                </li>
                <li class="list-group-item d-flex justify-content-between">
                    Can take calls:
                    <span>{{ cafe.can_take_calls }}</span>
                </li>
            </ul>
        </div>
    </div>
</div>
{% endblock %}